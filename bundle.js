(()=>{"use strict";var n={136:(n,t,e)=>{e.d(t,{Z:()=>s});var r=e(81),o=e.n(r),i=e(645),a=e.n(i)()(o());a.push([n.id,"* {\n  box-sizing: border-box !important;\n}\n\nbody {\n  font-size: 14px;\n  background-color: #222222;\n  color: #fff;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\nbutton {\n  cursor: pointer;\n}\n\n#app {\n  padding-bottom: 48px;\n}\n\n*:focus {\n  outline: none;\n}\n",""]);const s=a},260:(n,t,e)=>{e.d(t,{Z:()=>p});var r=e(81),o=e.n(r),i=e(645),a=e.n(i),s=e(667),c=e.n(s),l=new URL(e(489),e.b),d=a()(o()),u=c()(l);d.push([n.id,"custom-header {\n  width: 100%;\n  min-width: 1200px;\n  height: 72px;\n  background-color: #222;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 20px;\n  border-bottom: 1px solid white;\n  margin-bottom: 48px;\n}\n\ncustom-header h1 {\n  cursor: pointer;\n  user-select: none;\n  font-size: 2rem;\n  font-weight: bold;\n  letter-spacing: -0.1rem;\n  color: #f33f3f;\n}\n\ncustom-header > .search-box {\n  background: #fff;\n  padding: 8px;\n  border-radius: 4px;\n}\n\ncustom-header .search-box > input {\n  border: 0;\n}\n\ncustom-header .search-input {\n  border: none;\n  border-radius: 4px;\n}\n\ncustom-header .search-button {\n  width: 14px;\n  border: 0;\n  text-indent: -1000rem;\n  background: url("+u+") transparent no-repeat 0 1px;\n  background-size: contain;\n}\n",""]);const p=d},653:(n,t,e)=>{e.d(t,{Z:()=>s});var r=e(81),o=e.n(r),i=e(645),a=e.n(i)()(o());a.push([n.id,".item-view,\n.item-test {\n  width: 100%;\n}\n\n.item-view {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 1200px;\n  margin: 0 auto;\n}\n\n.item-view h2 {\n  font-size: 2rem;\n  font-weight: bold;\n  user-select: none;\n}\n\n.item-view .empty-movie-list-container {\n  margin-top: 50px;\n}\n\n.item-view .empty-movie-list-container h3 {\n  padding: 10px;\n  font-size: 1.5rem;\n  font-weight: bold;\n  user-select: none;\n}\n\n.item-view .empty-movie-list-container p {\n  padding: 5px 0 0 10px;\n  font-size: 1rem;\n}\n\n/* https://andrew.hedges.name/experiments/aspect_ratio/ */\n\n.item-list {\n  display: grid;\n  margin: 48px 0;\n  grid-template-columns: repeat(4, 180px);\n  grid-column-gap: 160px;\n  grid-row-gap: 48px;\n}\n\n.item-card {\n  display: flex;\n  flex-direction: column;\n}\n\n.item-thumbnail {\n  border-radius: 8px;\n  width: 180px;\n  height: 270px;\n  background-size: contain;\n}\n\n.item-title {\n  margin-top: 16px;\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n\n.item-score {\n  margin-top: 16px;\n  font-size: 1.2rem;\n}\n\n.item-score::after {\n  margin-left: 8px;\n}\n\n.item-title.skeleton::after,\n.item-score.skeleton::after {\n  font-size: 0;\n  content: 'loading';\n}\n\n.full-width {\n  width: 100%;\n}\n\n.last-item {\n  margin-top: 48px;\n}\n\nbutton.btn {\n  border: 0;\n  border-radius: 8px;\n  height: 30px;\n  color: #fff;\n}\n\nbutton.primary {\n  background: #f33f3f;\n}\n\n.item-card .skeleton {\n  background: linear-gradient(-90deg, #aaa, #f0f0f0, #aaa, #f0f0f0);\n  background-size: 400%;\n  animation: skeleton-animation 5s infinite ease-out;\n  border-radius: 8px;\n}\n\n@keyframes skeleton-animation {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n",""]);const s=a},991:(n,t,e)=>{e.d(t,{Z:()=>s});var r=e(81),o=e.n(r),i=e(645),a=e.n(i)()(o());a.push([n.id,'/* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: "";\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n',""]);const s=a},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",r=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),r&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),r&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,r,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},667:n=>{n.exports=function(n,t){return t||(t={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),t.hash&&(n+=t.hash),/["'() \t\n]|(%20)/.test(n)||t.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var t=[];function e(n){for(var e=-1,r=0;r<t.length;r++)if(t[r].identifier===n){e=r;break}return e}function r(n,r){for(var i={},a=[],s=0;s<n.length;s++){var c=n[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var p=e(u),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var f=o(m,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function o(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=e(i[a]);t[s].references--}for(var c=r(n,o),l=0;l<i.length;l++){var d=e(i[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=c}}},569:n=>{var t={};n.exports=function(n,e){var r=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},216:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},565:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},795:n=>{n.exports=function(n){var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},589:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},489:(n,t,e)=>{n.exports=e.p+"8ab96eb448678796eac6.png"}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return n[r](i,i.exports,e),i.exports}e.m=n,e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),(()=>{var n;e.g.importScripts&&(n=e.g.location+"");var t=e.g.document;if(!n&&t&&(t.currentScript&&(n=t.currentScript.src),!n)){var r=t.getElementsByTagName("script");r.length&&(n=r[r.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=n})(),e.b=document.baseURI||self.location.href,e.nc=void 0,(()=>{var n=e(379),t=e.n(n),r=e(795),o=e.n(r),i=e(569),a=e.n(i),s=e(565),c=e.n(s),l=e(216),d=e.n(l),u=e(589),p=e.n(u),m=e(991),f={};f.styleTagTransform=p(),f.setAttributes=c(),f.insert=a().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=d(),t()(m.Z,f),m.Z&&m.Z.locals&&m.Z.locals;var h=e(136),v={};v.styleTagTransform=p(),v.setAttributes=c(),v.insert=a().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),t()(h.Z,v),h.Z&&h.Z.locals&&h.Z.locals;var g=e(653),b={};b.styleTagTransform=p(),b.setAttributes=c(),b.insert=a().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=d(),t()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals;var y=function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function a(n){try{c(r.next(n))}catch(n){i(n)}}function s(n){try{c(r.throw(n))}catch(n){i(n)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(a,s)}c((r=r.apply(n,t||[])).next())}))};const x=(n,t)=>y(void 0,void 0,void 0,(function*(){const e=n?((n,t)=>`https://api.themoviedb.org/3/search/movie?api_key=${"MISSING_ENV_VAR".API_KEY}&language=ko-KR&query=${n}&page=${t}&include_adult=false`)(n,t):`https://api.themoviedb.org/3/movie/popular?api_key=${"MISSING_ENV_VAR".API_KEY}&language=ko-KR&page=${t}`,r=yield fetch(e);return yield r.json()})),w=(n,t=document)=>t.querySelector(n),k=n=>`\n\t\t<h2>${n?`"${n}" 검색 결과`:"지금 인기 있는 영화"}</h2>\n\t`;e.p,e(489),e.p;const T=n=>{const t=n.map((n=>(({src:n,title:t,score:e})=>`\n\t\t<li>\n\t\t<a href="#">\n\t\t  <div class="item-card">\n\t\t    <img\n\t\t      class="item-thumbnail skeleton"\n\t\t      src="https://image.tmdb.org/t/p/w500/${n}"\n\t\t      loading="lazy"\n\t\t      alt="${t}"\n\t\t    />\n\t\t    <p class="item-title">${t}</p>\n\t\t    <p class="item-score"><img src="star_filled.png" alt="별점" /> ${e}</p>\n\t\t  </div>\n\t\t</a>\n\t\t</li>\n\t`)({src:n.poster_path,title:n.title,score:n.vote_average}))).join("");return t?`\n\t\t<ul class="item-list">\n\t\t\t${t}\n\t\t</ul>\n\t`:'\n\t\t\t<div class="empty-movie-list-container">\n\t\t\t\t<h3>찾을 수 없는 영화 이름입니다 🥲</h3>\n\t\t\t\t<p>단어의 철자가 정확한지 확인해 보세요.</p>\n\t\t\t\t<p>검색어의 단어 수를 줄이거나, 보다 일반적인 검색어로 다시 검색해 보세요.</p>\n\t\t\t\t<p>두 단어 이상의 검색어인 경우, 띄어쓰기를 확인해보세요.</p>\n\t\t\t</div>\n\t\t'};class E extends HTMLElement{constructor(){super()}connectedCallback(){this.addEventListener("click",this.moreButtonClickHandler)}moreButtonClickHandler(n){return t=this,e=void 0,o=function*(){const t=n.target;if(t instanceof HTMLButtonElement&&"더 보기"===t.ariaLabel){const n=yield(e=M.movie.query,r=M.movie.currentPage+1,y(void 0,void 0,void 0,(function*(){return yield x(e,r)})));M.movie.currentPage=n.page;const t=n.results;M.movie.list+=T(t)}var e,r},new((r=void 0)||(r=Promise))((function(n,i){function a(n){try{c(o.next(n))}catch(n){i(n)}}function s(n){try{c(o.throw(n))}catch(n){i(n)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(n){n(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}));var t,e,r,o}static initRender(){const n=w("#app");n instanceof HTMLDivElement&&n.closest("body")&&n.insertAdjacentHTML("beforeend",'\n\t\t<main>\n\t\t\t<movie-container class="item-view">\n\t\t\t</movie-container>\n\t\t</main>\n\t')}static renderContents(n=""){const t=w(".item-view");t instanceof HTMLElement&&(t.innerHTML=t.innerHTML=M.movie.currentPage===M.movie.totalPages?k(M.movie.query)+n:k(M.movie.query)+n+'\n  <button class="btn primary full-width" aria-label="더 보기">더 보기</button>\n\t')}}const P=E,M={movie:{list:"",query:"",currentPage:1,totalPages:1}},L={set:(n,t,e)=>"list"===t&&"string"==typeof e?((n,t,e)=>(n[t]=e,P.renderContents(e),!0))(n,t,e):"currentPage"===t&&"number"==typeof e?((n,t,e)=>(n[t]=e,!0))(n,t,e):"query"===t&&"string"==typeof e?((n,t,e)=>{return M.movie.query===e||(n[t]=e,M.movie.currentPage=1,(r=M.movie.query,o=M.movie.currentPage,y(void 0,void 0,void 0,(function*(){return yield x(r,o)}))).then((n=>{const t=n.results;M.movie.totalPages=n.total_pages,M.movie.list=T(t)}))),!0;var r,o})(n,t,e):"totalPages"===t&&"number"==typeof e&&((n,t,e)=>(n[t]=e,!0))(n,t,e)};var S=e(260),H={};H.styleTagTransform=p(),H.setAttributes=c(),H.insert=a().bind(null,"head"),H.domAPI=o(),H.insertStyleElement=d(),t()(S.Z,H),S.Z&&S.Z.locals&&S.Z.locals;class q extends HTMLElement{constructor(){super()}connectedCallback(){this.addEventListener("click",this.logoClickHandler),this.addEventListener("submit",this.searchBoxSubmitHandler)}logoClickHandler(n){const t=n.target;t instanceof HTMLImageElement&&"logo"===t.id&&window.location.reload()}searchBoxSubmitHandler(n){n.preventDefault();const t=n.target;t instanceof HTMLFormElement&&"search-box"===t.className&&this.updateQuery(n)}updateQuery(n){const t=(n=>{if(n.target instanceof HTMLFormElement)return[...new FormData(n.target)]})(n);if(t instanceof Object){const n=Object.fromEntries(t);M.movie.query=n["search-input"]}}static render(){const n=w("#app");n instanceof HTMLDivElement&&n.closest("body")&&n.insertAdjacentHTML("beforeend",'\n\t\t<custom-header>\n\t\t\t<h1>\n\t\t\t\t<img id="logo" src=logo.png alt="MovieList 로고" />\n\t\t\t</h1>\n\t\t\t<form class="search-box">\n\t\t\t\t<label for="search-input">\n\t\t\t\t\t<input class="search-input" id="search-input" name="search-input" type="text" placeholder="검색" />\n\t\t\t\t\t<button class="search-button">검색</button>\n\t\t\t\t</label>\n\t\t\t</form>\n\t\t</custom-header>\n\t')}}const Z=q;({state:{movie:{list:"",query:"",currentPage:1,totalPages:1}},init(){var n;n=this.state,M.movie=new Proxy(n.movie,L),this.initRender(),this.initState()},initRender(){customElements.define("custom-header",Z),customElements.define("movie-container",P),Z.render(),P.initRender()},initState(){y(void 0,void 0,void 0,(function*(){return yield x("",1)})).then((n=>{const t=n.results;M.movie.totalPages=n.total_pages,M.movie.list=T(t)}))}}).init()})()})();